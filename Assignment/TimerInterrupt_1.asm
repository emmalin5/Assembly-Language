ORG 0000H
JMP 0050H
ORG 0003H
CALL EXTERNAL_INTR0
RETI
ORG 000BH
RETI
ORG 0013H
RETI
ORG 001BH
RETI
ORG 0023H
RETI
ORG 0050H
MOV P2, #0FFH
MOV SP, #08H
CLR P3.3
CLR P3.0
SETB P3.3
MOV R0, #16
MOV R1, #20H
CLR IT0
MOV IE, #10000001b
CLR P3.3
CLR P3.1
NOP
NOP
SETB P3.1
JMP $
EXTERNAL_INTR0:
MOV @R1, P2
CLR P3.0
NOP
NOP
SETB P3.0
SETB P3.3
DJNZ R0, RETURN
MOV R1, #1FH
MOV R0, #16
RETURN: INC R1
CLR IE0
CLR P3.3
CLR P3.1
NOP
NOP
SETB P3.1
RET
END